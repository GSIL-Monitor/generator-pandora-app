/**
 * Copyright (c) 2009-2017 pandolajs.com, All rights reseved.
 * @fileoverview Loading component 样式
 * @author sizhao | sizhao@pandolajs.com
 * @version 1.0 | 2017-08-01 | sizhao       // 初始版本
 */
.m-layout{
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  z-index: 100;
}

.m-spinner-container{
  @w: 2.2rem;
  width: @w;
  height: @w;
  position: fixed;
  top: 50%;
  left: 50%;
  background: fade(#000, 70%);
  .cmn-transform(translate(-50%, -50%));
  border-radius: .2rem;
  z-index: 1;
  
  .c-spinner-box{
    position: absolute;
    @bw: 1rem;
    @bp: @w/2-@bw/2;
    width: @bw;
    height: @bw;
    left: @bp;
    top: @bp;
    
    &:nth-child(1){
      .c-spinner-dot:nth-child(1){
        animation-delay: 0s!important;
      }
    }
    
    &:nth-child(2){
      .cmn-transform(rotateZ(45deg));
    }
    
    &:nth-child(3){
      .cmn-transform(rotateZ(90deg));
    }
    
    .generate-dot(@d, @i: 1, @dl: 4) when(@i <= @dl){
      .c-spinner-dot:nth-child(@{i}){
        animation-delay: (0.3 * (@i - 1) - @d)/1s;
      }
      
      .generate-dot(@d, @i + 1, @dl);
    }
    
    .generate-animation(@i: 1, @ol: 3) when(@i <= @ol){
      &:nth-child(@{i}){
        .generate-dot(1.3 - 0.1 * @i);
      }
      
      .generate-animation(@i + 1, @ol);
    }
    
    .generate-animation;
    
    .c-spinner-dot{
      @dw: .28rem;
      width: @dw;
      height: @dw;
      border-radius: 100%;
      background: fade(#fff, 80%);
      position: absolute;
      .cmn-animation(bounce, 1.2s, ease-in-out, 0s, infinite, normal, both);
      
      &:nth-child(1){
        left: 0;
        top: 0
      }
      &:nth-child(2){
        top: 0;
        right: 0;
      }
      &:nth-child(3){
        right: 0;
        bottom: 0;
      }
      &:nth-child(4){
        bottom: 0;
        left: 0;
      }
    }
  }
}

.cmn-keyframes(bounce, {
  0%, 80%, 100%{
    .cmn-transform(scale(0));
  }
  40%{
    .cmn-transform(scale(1));
  }
});
